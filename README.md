# game-club
## Описание 
Компания владеет одним не очень большим помещением. В информационной системе представлена вся необходимая о пользователях системы, в них входят как сотрудники, так и клиенты. Система предоставляет информацию о сотрудниках: Полное имя, должность, контактные данные, зарплата. Также система хранит информацию о клиентах. Клиент кроме контактной информации имеет статус: Bronze, Silver, Gold. Статус клиента определяется автоматически по количеству потраченных средств на разные услуги клуба. Также система предоставляет информацию об оборудовании, конфигурации компьютеров, всего есть две конфигурации STANDARD и VIP, а также игровые консоли PS4, PS5.

Игровой клуб предоставляет определенные услуги, информация о которых тоже хранится в информационной системе Клиент может заказать несколько услуг. На основе выбранных услуг и количества часов, на которые будет арендована услуга, формируется заказ, в котором указываются выбранный сервис, комната в котором находится оборудование и общая их стоимость.

Пользователем системы является администратор, аналитики, клиент. Администратор системы управляет базой данных, создает заказы, в которые входят: услуга, клиент, количество часов, а также отвечает за оборудование в залах. Также администраторы могут редактировать всю информацию, включая информацию о компьютерах, игровых консолях, сотрудниках и услугах.

Аналитики имеют доступ на чтение из любой таблицы, а также сбор статистики и формирование отчетов. Система генерирует отчёты. Отчёты показывают общий доход клуба, какие услуги приносят больше всего доход, какие меньше и т.д.

Клиенты имеют доступ на чтение только таблицы Orders, в которой хранится информация об их заказах, в целях безопасности, клиенты могут видеть только свои заказы.

## 	ER-модель
![image](https://github.com/user-attachments/assets/87cde145-8c81-4b51-9ab6-a894d06ae73f)

## Спецификация использованного ПО
Курсовая работа осуществляется с использованием современных технологий для разработки полноценного веб-приложения. В основе системы лежит реляционная база данных PostgreSQL, управляемая через графический интерфейс pgAdmin 4 и инструмент для работы с базами данных DBeaver. Это обеспечивает эффективное хранение и манипулирование данными, а также обеспечивает разнообразные возможности для запросов и визуализации структуры базы данных.
Веб-приложение разрабатывается с использованием библиотеки React, что обеспечивает динамичность, отзывчивость и компонентный подход к созданию пользовательского интерфейса. Серверная часть приложения реализована с использованием Express.js, минималистичного веб-фреймворка для Node.js. Node.js, в свою очередь, обеспечивает возможность запуска JavaScript на стороне сервера, что повышает эффективность взаимодействия с базой данных и другими ресурсами.
Для автоматизации определенных задач, в проекте используется планировщик задач Cron, который периодически запускает Python-скрипт. 
Таким образом, выбранный стек технологий обеспечивает интегрированный подход к разработке, позволяя создать функциональное веб-приложение с удобным интерфейсом, эффективным взаимодействием с базой данных и автоматизацией определенных процессов.


В ходе выполнения курсовой работы было разработано веб-приложение для управления игровым клубом. Проект включает в себя как серверную, так и клиентскую часть, обеспечивая полный цикл взаимодействия с базой данных и предоставляя удобный интерфейс для пользователей.

## Серверная часть
Сервер включает в себя следующие ключевые элементы: модели данных, контроллеры, маршруты и т.д. Предоставим более детальную информацию о каждом компоненте.
Модели данных
Студенты реализовали следующие модели данных:
ComputerConfigurations.js (см. Листинг 13): содержит описание класса Config, представляющего конфигурацию компьютеров в игровом клубе. Каждый экземпляр этого класса содержит информацию о центральном процессоре (CPU), графическом процессоре (GPU), объеме оперативной памяти (RAM), мониторе, накопителе, мыше, клавиатуре и наушниках. Этот класс используется как кастомный тип данных для хранения технических характеристик компьютеров.
Каждый контроллер обрабатывает соответствующие запросы и управляет взаимодействием с базой данных. Маршруты определяют, как обрабатывать запросы на сервере. Вот краткое описание каждого:
AdminController : обрабатывает запросы административной части, такие как получение информации о сотруднике и создание заказа.
Реализован запуск Python-скрипта с использованием расписания cron, что обеспечивает его выполнение каждую минуту. Данный скрипт, check_and_release.py, предназначен для выполнения различных проверок и действий в бэкенд-системе.

Серверный код написан на языке JavaScript с использованием фреймворка Express.js. База данных PostgreSQL используется для хранения данных. Окружение разработки управляется npm.
Взаимодействие с фронтенд-частью организовано через HTTP-запросы и API-маршруты 

## Фронтенд-часть
Фронтенд-часть проекта представляет собой веб-приложение, созданное с использованием библиотеки React для удобного взаимодействия пользователей с системой управления игровым клубом. Приложение разделено на несколько страниц, каждая из которых обеспечивает определенную функциональность для различных типов пользователей: администраторов, аналитиков и клиентов.
Компоненты и Стили
Все компоненты хранятся в отдельных файлах и папках внутри client/components. Каждая страница имеет свой набор компонентов, обеспечивающих отображение данных и взаимодействие с пользователем. Стили для каждой страницы оформлены в отдельных CSS-файлах, что улучшает читаемость и поддержку кода. 

## Страница администратора
Страница администратора позволяет просматривать информацию о себе и создавать заказы для клиентов. При загрузке страницы, приложение отправляет запрос на сервер для получения информации о текущем администраторе. Затем администратор может ввести данные заказа (Client ID, Service ID, Hours) и создать заказ, отправив запрос на сервер 
![image](https://github.com/user-attachments/assets/7ca15aef-4112-463a-953c-4efc09a8c0db)

## Страница аналитика
На странице аналитика предоставлена логика работы со статисЫтикой. При загрузке страницы, запрос на сервер отправляется для получения информации о текущем аналитике. Затем аналитик может запросить общую сумму дохода и получить ежемесячный отчет, отправив соответствующие запросы на сервер 
![image](https://github.com/user-attachments/assets/6697edc5-c7c9-4e70-b16b-61808e299719)

## Главная страница
Главная страница предоставляет информацию о клиенте и историю его заказов. После загрузки страницы, происходит запрос на сервер для получения информации о клиенте и его заказах. Если у клиента есть заказы, они отображаются в виде таблицы; в противном случае выводится сообщение о отсутствии заказов 
![image](https://github.com/user-attachments/assets/e33d4272-9ff4-4b88-9e3b-9cccdacce678)


Маршрутизация в проекте обеспечивается библиотекой react-router-dom, которая позволяет определить, какие компоненты будут отображаться на экране в зависимости от текущего URL. Файл client/index.js содержит точку входа для инициализации React-приложения и описывает маршруты для каждой страницы (Login, Admin, Analyst, Homepage).

Аутентификация пользователей реализована на странице Login. Когда пользователь вводит логин и пароль, приложение отправляет запрос на сервер для проверки данных. В случае успешной аутентификации, данные пользователя сохраняются в локальном хранилище и происходит редирект на нужную страницу в соответствии с ролью пользователя. Сохранять данные в localstorage нужно для того, чтобы пользователи не могли «в жесткую» перейти на любую другую страницу без прохождения авторизации. Во избежание этого на каждой странице в самом начале есть код, проверяющий наличие данных в localstorage и производящий редирект на страницу логина в случае отрицательного результата
![image](https://github.com/user-attachments/assets/a736b3b0-3b1f-4835-81a5-3a0ce8b6a584)
